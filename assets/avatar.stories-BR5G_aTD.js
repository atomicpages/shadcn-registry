import{j as t}from"./jsx-runtime-BjG_zV1W.js";import{r as n}from"./index-CE0XXScK.js";import{c as B,a as I,u as G}from"./index-BErBjXyl.js";import{P as f}from"./index-CtBI7pHQ.js";import{a as g}from"./utils-eOuC519h.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-Cld1dQTW.js";import"./index-Dv1nZR32.js";var A="Avatar",[K,Y]=B(A),[O,y]=K(A),L=n.forwardRef((a,e)=>{const{__scopeAvatar:r,...s}=a,[d,o]=n.useState("idle");return t.jsx(O,{scope:r,imageLoadingStatus:d,onImageLoadingStatusChange:o,children:t.jsx(f.span,{...s,ref:e})})});L.displayName=A;var R="AvatarImage",k=n.forwardRef((a,e)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:d=()=>{},...o}=a,c=y(R,r),l=V(s,o.referrerPolicy),m=G(N=>{d(N),c.onImageLoadingStatusChange(N)});return I(()=>{l!=="idle"&&m(l)},[l,m]),l==="loaded"?t.jsx(f.img,{...o,ref:e,src:s}):null});k.displayName=R;var F="AvatarFallback",E=n.forwardRef((a,e)=>{const{__scopeAvatar:r,delayMs:s,...d}=a,o=y(F,r),[c,l]=n.useState(s===void 0);return n.useEffect(()=>{if(s!==void 0){const m=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(m)}},[s]),c&&o.imageLoadingStatus!=="loaded"?t.jsx(f.span,{...d,ref:e}):null});E.displayName=F;function V(a,e){const[r,s]=n.useState("idle");return I(()=>{if(!a){s("error");return}let d=!0;const o=new window.Image,c=l=>()=>{d&&s(l)};return s("loading"),o.onload=c("loaded"),o.onerror=c("error"),o.src=a,e&&(o.referrerPolicy=e),()=>{d=!1}},[a,e]),r}var M=L,P=k,T=E;const v=n.forwardRef(({className:a,...e},r)=>t.jsx(M,{ref:r,className:g("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...e}));v.displayName=M.displayName;const h=n.forwardRef(({className:a,...e},r)=>t.jsx(P,{ref:r,className:g("aspect-square h-full w-full",a),...e}));h.displayName=P.displayName;const x=n.forwardRef(({className:a,...e},r)=>t.jsx(T,{ref:r,className:g("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...e}));x.displayName=T.displayName;v.__docgenInfo={description:"",methods:[]};h.__docgenInfo={description:"",methods:[]};x.__docgenInfo={description:"",methods:[]};const i=n.forwardRef(({alert:a,alertClassName:e,children:r,...s},d)=>t.jsxs("div",{className:"relative w-min",children:[t.jsx(v,{ref:d,...s,children:r}),a&&t.jsx("div",{className:g("absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full border-2 border-white",e)})]}));i.displayName=v.displayName;const $=h,q=x;i.__docgenInfo={description:"",methods:[],props:{alert:{required:!1,tsType:{name:"boolean"},description:""},alertClassName:{required:!1,tsType:{name:"string"},description:""}}};const Z={title:"Components/Avatar",component:i,tags:["autodocs"],argTypes:{}},u={render:a=>t.jsxs(i,{...a,children:[t.jsx($,{src:"https://github.com/shadcn.png",alt:"@shadcn"}),t.jsx(q,{children:"CN"})]})},p={render:({alert:a=!0,alertClassName:e="bg-green-600",...r})=>t.jsxs(i,{alert:a,alertClassName:e,...r,children:[t.jsx($,{src:"https://github.com/shadcn.png",alt:"@shadcn"}),t.jsx(q,{children:"CN"})]})};var b,w,S;u.parameters={...u.parameters,docs:{...(b=u.parameters)==null?void 0:b.docs,source:{originalSource:`{
  render: args => <Avatar {...args}>
      <AvatarImage src="https://github.com/shadcn.png" alt="@shadcn" />
      <AvatarFallback>CN</AvatarFallback>
    </Avatar>
}`,...(S=(w=u.parameters)==null?void 0:w.docs)==null?void 0:S.source}}};var j,C,_;p.parameters={...p.parameters,docs:{...(j=p.parameters)==null?void 0:j.docs,source:{originalSource:`{
  render: ({
    alert = true,
    alertClassName = "bg-green-600",
    ...args
  }) => <Avatar alert={alert} alertClassName={alertClassName} {...args}>
      <AvatarImage src="https://github.com/shadcn.png" alt="@shadcn" />
      <AvatarFallback>CN</AvatarFallback>
    </Avatar>
}`,...(_=(C=p.parameters)==null?void 0:C.docs)==null?void 0:_.source}}};const aa=["SampleAvatar","AlertAvatar"];export{p as AlertAvatar,u as SampleAvatar,aa as __namedExportsOrder,Z as default};
